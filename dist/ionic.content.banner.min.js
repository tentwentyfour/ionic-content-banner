angular.module("jett.ionic.content.banner",["ionic"]),function(n){"use strict";n.module("jett.ionic.content.banner").directive("ionContentBanner",["$interval",function(n){return{restrict:"E",scope:!0,link:function(t,e){var o;t.currentIndex=0,t.text.length>1&&(o=n(function(){t.currentIndex=t.currentIndex<t.text.length-1?t.currentIndex+1:0},t.interval)),t.$on("$destroy",function(){e.remove(),o&&n.cancel(o)})},template:'<a class="content-banner-text-wrapper" ng-click="onClick()"><div ng-repeat="item in text track by $index" ng-class="{active: $index === currentIndex}" class="content-banner-text" ng-bind="item"></div></a><button class="content-banner-close button button-icon icon {{::icon}}" ng-click="close()"></button>'}}])}(angular),function(n,t){"use strict";n.module("jett.ionic.content.banner").factory("$ionicContentBanner",["$document","$rootScope","$compile","$timeout","$ionicPlatform","$log",function(e,o,i,c,r,a){function s(n){b[f]=n,n.bannerCacheIndex=f,f++}function u(){c(function(){n.forEach(b,function(n){n.close()})})}function l(a){var u=o.$new(!0);n.extend(u,{icon:"ion-ios-close-empty",transition:"vertical",interval:7e3,type:"info",$deregisterBackButton:n.noop,closeOnStateChange:!0,autoClose:null,position:null},a);var l="content-banner-transition-"+u.transition,d="content-banner "+u.type;"bottom"===u.position&&(d+=" content-banner-bottom","vertical"===u.transition&&(l+="-bottom")),d+=" "+l;var f=u.element=i('<ion-content-banner class="'+d+'"></ion-content-banner>')(u),m=u.closeOnStateChange?o.$on("$stateChangeSuccess",function(){u.close()}):n.noop;return u.$deregisterBackButton=r.registerBackButtonAction(function(){c(u.close)},300),u.close=function(){u.removed||(u.removed=!0,t.requestAnimationFrame(function(){f.removeClass("content-banner-in"),c(function(){u.$destroy(),f.remove(),m=null},400)}),delete b[u.bannerCacheIndex],u.$deregisterBackButton(),m())},u.show=function(){u.removed||(e[0].body.appendChild(f[0]),t.requestAnimationFrame(function(){c(function(){f.addClass("content-banner-in"),u.autoClose&&c(function(){u.close()},u.autoClose,!1)},20)}))},c(function(){u.show()},30,!1),u.close.$scope=u,s(u),u.close}var d,f=0,b={},m=function(t,e){n.isString(e)&&(e={type:e});var o=n.extend({text:[t],position:"bottom",autoClose:3e3,icon:""},e);return n.isDefined(d)&&d(),d=l(o)};return{show:l,quick:m,closeAll:u}}])}(angular,ionic);